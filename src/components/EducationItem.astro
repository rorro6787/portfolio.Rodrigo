---


interface Props {
  title: string
  company: string
  link?: string
  information?: string
  date: string
}

const { title, company, link, information, date } = Astro.props
const isOngoing = date.toLowerCase().includes('ongoing')
---

<div
  class:list={[
    "education-item relative mx-12 pb-12 grid before:absolute before:left-[-35px] before:block before:h-full before:border-l-2 before:content-[''] md:grid-cols-1 md:gap-10 md:space-x-4]",
    isOngoing ? "before:border-green-400/60 dark:before:border-green-400/50" : "before:border-green-400/30 dark:before:border-green-400/20"
  ]}
>
  <div class="relative">
    <div class="education-header">
      <div class="education-dot-wrapper -left-[48px] absolute">
        <span class:list={[
          "education-dot inline-block w-6 h-6 rounded-full border-4 border-gray-50 dark:border-gray-950 shadow-lg",
          isOngoing ? "bg-green-400 shadow-green-400/70 animate-pulse-ring" : "bg-green-400 shadow-green-400/50"
        ]}></span>
      </div>

      <a 
        href={link || information || '#'}
        target="_blank"
        rel="noopener noreferrer"
        class:list={[
          "block p-6 rounded-lg transition-all duration-300 cursor-pointer",
          isOngoing 
            ? "bg-gradient-to-r from-green-100 to-emerald-100 dark:from-green-900/40 dark:to-emerald-900/40 border-l-4 border-green-400 shadow-xl hover:shadow-2xl hover:shadow-green-500/40 hover:translate-x-2 ring-2 ring-green-400/30" 
            : "bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30 border-l-4 border-green-400 shadow-md hover:shadow-xl hover:shadow-green-500/20 hover:translate-x-2"
        ]}
      >
        <div class="flex items-start gap-3 mb-3">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-green-500 dark:text-green-400 flex-shrink-0 mt-1" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
            <path d="M22 9l-10 -4l-10 4l10 4l10 -4v6" />
            <path d="M6 10.6v5.4a6 3 0 0 0 12 0v-5.4" />
          </svg>
          <div>
            <h3 class:list={[
              "text-xl font-bold mb-2",
              isOngoing ? "text-green-500 dark:text-green-400 animate-shimmer-green bg-gradient-to-r from-green-500 via-green-400 to-green-500 bg-clip-text text-transparent bg-[length:200%_100%]" : "text-green-500 dark:text-green-400"
            ]}>{title}</h3>
            <h4 class="font-semibold text-lg text-gray-700 dark:text-gray-200 mb-3 flex items-center gap-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-green-500" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                <path d="M3 21l18 0" />
                <path d="M5 21v-14l8 -4v18" />
                <path d="M19 21v-10l-6 -4" />
                <path d="M9 9l0 .01" />
                <path d="M9 12l0 .01" />
                <path d="M9 15l0 .01" />
                <path d="M9 18l0 .01" />
              </svg>
              {company}
            </h4>
            <time class:list={[
              "inline-flex items-center gap-2 px-3 py-1 text-xs font-semibold rounded-full",
              isOngoing 
                ? "text-green-800 dark:text-green-200 bg-green-200 dark:bg-green-800/40 border-2 border-green-400/50 shadow-md shadow-green-400/30 animate-pulse-border-green" 
                : "text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-900/30"
            ]}>
              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" />
                <path d="M12 7v5l3 3" />
              </svg>
              {date}
            </time>
          </div>
        </div>
      </a>
    </div>
  </div>
</div>

<style>
  .education-item {
    opacity: 0;
    animation: fadeInLeft 0.7s ease-out forwards;
  }

  .education-header {
    animation: slideInLeft 0.8s ease-out forwards;
    animation-delay: 0.1s;
    opacity: 0;
  }

  .education-dot {
    animation: scaleIn 0.5s ease-out forwards, float 3s ease-in-out infinite;
    animation-delay: 0.3s, 0.8s;
    transform: scale(0);
  }


  @keyframes fadeInLeft {
    from {
      opacity: 0;
      transform: translateX(-30px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes slideInLeft {
    from {
      opacity: 0;
      transform: translateX(40px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes slideInRight {
    from {
      opacity: 0;
      transform: translateX(-20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes scaleIn {
    from {
      transform: scale(0);
      opacity: 0;
    }
    to {
      transform: scale(1);
      opacity: 1;
    }
  }

  @keyframes float {
    0%, 100% {
      transform: scale(1) translateY(0);
    }
    50% {
      transform: scale(1.05) translateY(-3px);
    }
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes pulse-ring {
    0%, 100% {
      transform: scale(1);
      box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7);
    }
    50% {
      transform: scale(1.1);
      box-shadow: 0 0 0 8px rgba(34, 197, 94, 0);
    }
  }

  @keyframes shimmer-green {
    0% {
      background-position: 200% center;
    }
    100% {
      background-position: -200% center;
    }
  }

  @keyframes pulse-border-green {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4);
    }
    50% {
      box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.1);
    }
  }

  .animate-pulse-ring {
    animation: pulse-ring 2s ease-in-out infinite;
  }

  .animate-shimmer-green {
    animation: shimmer-green 3s linear infinite;
  }

  .animate-pulse-border-green {
    animation: pulse-border-green 2s ease-in-out infinite;
  }
</style>
